name: Test SSH Connection

on:
  workflow_dispatch:  # Allows manual trigger

jobs:
  test-ssh:
    runs-on: ubuntu-latest
    steps:
      - name: Test SSH connection and project directory
        uses: appleboy/ssh-action@v0.1.6
        with:
          host: ${{ secrets.SSH_HOST }}
          username: ${{ secrets.SSH_USERNAME }}
          key: ${{ secrets.SSH_PRIVATE_KEY }}
          passphrase: ${{ secrets.SSH_KEY_PASSPHRASE }}
          port: 22  # change if your SSH uses a different port
          debug: true
          script: |
            echo "âœ… SSH Connection Successful!"
            echo "ğŸ‘¤ Connected as: $(whoami)"
            echo "ğŸ“ Current directory: $(pwd)"
            echo "ğŸ“ Your project path: /home/riponcod/public_html"
            echo "ğŸ§ Server info: $(uname -a)"
            echo "Checking project directory..."
            cd /home/riponcod/public_html
            echo "âœ… Directory exists!"
            echo "ğŸ“‹ Contents:"
            ls -la
            echo "ğŸš€ Ready for deployment"
